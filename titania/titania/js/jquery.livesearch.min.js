// jQuery Livesearch
// (c) 2009 Pat Nakajima
// License: http://www.opensource.org/licenses/mit-license.php
(function(d){d.extend(d.expr[":"],{containsi:function(g,f,e,h){return d(g).text().toLowerCase().indexOf((e[3]||"").toLowerCase())>=0}});var a=function(e){this.callbacks={};e(this)};a.prototype.all=function(e){this.callbacks.all=e};a.prototype.reset=function(e){this.callbacks.reset=e};a.prototype.empty=function(e){this.callbacks.empty=e};a.prototype.results=function(e){this.callbacks.results=e};function c(e){if(val=this.val()){return d(e+':containsi("'+val+'")')}else{return false}}d.fn.search=function b(e,i){var f=new a(i);var h=f.callbacks;function g(){if(result=c.call(d(this),e)){h.all&&h.all.call(this,result);var j=result.size()>0?"results":"empty";return h[j]&&h[j].call(this,result)}else{h.all&&h.all.call(this,d(e));return h.reset&&h.reset.call(this)}}d(this).live("keypress",g);d(this).live("keydown",g);d(this).live("keyup",g);d(this).bind("blur",g)}})(jQuery);